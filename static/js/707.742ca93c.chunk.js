"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[707],{8707:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var n=t(8683),r=t(5671),i=t(3144),o=t(136),u=t(5716),a=t(8381),l={},c="ProfileInfo_descriptionBlock__9K+Vy",d="ProfileInfo_imgWrapper__4eBmV",p=t(1691),h=t(885),f=t(9343),x=function(e){var s=(0,a.useState)(!1),t=(0,h.Z)(s,2),n=t[0],r=t[1],i=(0,a.useState)(e.status),o=(0,h.Z)(i,2),u=o[0],l=o[1],c=function(s){r(s),s||e.updateUserStatus(u)};return(0,a.useEffect)((function(){l(e.status)}),[e.status]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{children:n?(0,f.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){return c(!1)},autoFocus:!0,value:u}):(0,f.jsxs)("div",{children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",(0,f.jsx)("span",{onDoubleClick:function(){return c(!0)},children:u||" No status"})]})})})},j=function(e){return e.profile?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:d,children:(0,f.jsx)("img",{src:"https://images.unsplash.com/photo-1574217013471-c32c6846cef7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Zm90b3xlbnwwfHwwfHw%3D&w=1000&q=80",alt:"logo"})}),(0,f.jsxs)("div",{className:c,children:["ava + description",(0,f.jsx)("img",{src:e.profile.photos.large,alt:"img"}),(0,f.jsx)("h3",{children:e.profile.fullName}),(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{type:"checkbox",value:"\u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443",checked:e.profile.lookingForAJob}),"\u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"]}),(0,f.jsx)(x,{status:e.status,updateUserStatus:e.updateUserStatus}),(0,f.jsx)("input",{type:"text",value:e.profile.lookingForAJobDescription})]})]}):(0,f.jsx)(p.p,{})},m=t(1378),v="MyPosts_postsBlock__-0me1",g={item:"Post_item__Dz3Yo"},w=function(e){return(0,f.jsx)("div",{className:g.content,children:(0,f.jsx)("div",{children:(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:g.item,children:[(0,f.jsx)("img",{src:"https://trikky.ru/wp-content/blogs.dir/1/files/2020/08/17/2859972401.jpg",alt:"ava"}),e.message,(0,f.jsx)("div",{children:(0,f.jsx)("span",{children:e.countLikes})})]})})})})},P=t(5783),b=(0,a.memo)((function(e){var s=e.posts.map((function(e){return(0,f.jsx)(w,{message:e.message,countLikes:e.countLikes},e.id)}));return console.log("RENDER"),(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)("div",{children:(0,f.jsx)(k,{addNewPost:function(s){e.addNewPostAC(s)}})}),s]})})),k=function(e){var s=(0,P.TA)({initialValues:{newPost:""},validate:function(e){var s={};return e.newPost?e.newPost.length>10&&(s.newPost="Must be 10 characters or less"):s.newPost="Required",s},onSubmit:function(t){e.addNewPost(t.newPost),s.resetForm()}});return console.log(s.errors),(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{name:"newPost",type:"text",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.newPost}),s.errors.newPost&&s.touched.newPost&&(0,f.jsx)("div",{style:{color:"red"},children:s.errors.newPost})]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{type:"submit",disabled:0!==Object.keys(s.errors).length,children:"Add new post"})})]})},y=t(440),N=(0,y.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e((0,m.Pi)())},updateNewPostText:function(s){e((0,m.fx)(s))},addNewPostAC:function(s){e((0,m.EQ)(s))}}}))(b),_=function(e){return(0,f.jsxs)("div",{className:l.content,children:["Main content",(0,f.jsx)(j,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),e.isAuth&&(0,f.jsx)(N,{}),!e.isAuth&&(0,f.jsx)("h1",{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438 \u0432\u0445\u043e\u0434"})]})},S=t(104),U=t(4479),A=function(e){(0,o.Z)(t,e);var s=(0,u.Z)(t);function t(){return(0,r.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;void 0===e&&((e=this.props.authorizedUserId)||this.props.history.push("/login")),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(_,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status}))})}}]),t}(a.Component),C=(0,U.qC)((0,y.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.id}}),{getUserProfile:m.et,getUserStatus:m.Tq,updateUserStatus:m.OL}),S.EN)(A)}}]);
//# sourceMappingURL=707.742ca93c.chunk.js.map